<ion-content>
  <app-header (searchQuery)="handleSearchName($event)" [searchBar]=true ></app-header>
  <div class="">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" pullFactor="1.0" pullMin="10" pullMax="260">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-grid>
      <ion-row>
        <ion-col *ngFor="let company of companies" size-lg="6" size-md="6" size-sm="12" size="12" >
          <ion-card routerLink = "../company-profile/{{company.id}}">

            <ion-grid>
              <ion-row>
                <ion-col size-lg="4" size-md="4" size-sm="4" size="12">
                  <ion-avatar>
                    <img src="{{ company.image }}" />
                  </ion-avatar>
                </ion-col>
                <ion-col class="col-content ion-text-center" size-lg="8" size-md="8" size-sm="8" size="12">
                  <div *ngIf="company.rating > 0 ">                    
                    <ion-icon class = "starsRating" slot="start" name="star" *ngFor="let star of getStars(company.rating)"></ion-icon>
                  </div>
                  <div *ngIf="company.rating == 0 ">                    
                    <ion-icon class = "starsRating" slot="start" name="star-outline" *ngFor="let star of getStars(5)"></ion-icon>
                  </div>
                  <h1 class="title capitalized">{{ company.name }} </h1>                  
                  <ion-label *ngIf="company.reviews_count > 0">Cantidad de rese√±as: {{ company.reviews_count }}</ion-label>
                  <p>Categoria: {{ company.category.name }}</p>            
                </ion-col>
              </ion-row>
            </ion-grid>                  
          
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
    
  </div>
</ion-content>
